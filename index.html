<!DOCTYPE html>
<html>
<head>
	<title>Rock, Paper, Scissors</title>
</head>
<body>
	<div>
		<button id="rock">Rock</button>
		<button id="paper">Paper</button>
		<button id="scissors">Scissors</button>
	</div>
	<div class="scores">
		<div id="player-score">Player score: 0</div>
		<div id="computer-score">Computer score: 0</div>
	</div>
	<div>
		<div id="action-label"></div>
	</div>
	<script>
		const buttons = document.querySelectorAll('button');

		let playerScore = 0;
		let computerScore = 0;

		buttons.forEach((button) => {
			button.addEventListener('click', (e) => {
				playGame(e.srcElement.id);
			});
		});

		function computerPlay() {
			let computerChoice = Math.floor(Math.random() * 3)
			switch(computerChoice) {
				case 0:
					return "Rock";
					break;
				case 1:
					return "Paper";
					break;
				case 2:
					return "Scissors";
					break;
				default:
					break;
			}
			return "Something's wrong"
		}

		function playGame(playerSelection) {
			const computerSelection = computerPlay();

			if (playerSelection === "rock" && computerSelection === "Scissors") {
				document.getElementById('action-label').innerHTML = "Rock smashes Scissors. Player wins!";
				updateScore("player");
			} else if (playerSelection === "paper" && computerSelection === "Rock") {
				document.getElementById('action-label').innerHTML = "Paper covers Rock. Player wins!";
				updateScore("player");
			} else if (playerSelection === "scissors" && computerSelection === "Paper") {
				document.getElementById('action-label').innerHTML = "Scissors cuts Paper. Player wins!";
				updateScore("player");
			} else if (playerSelection === "rock" && computerSelection === "Paper") {
				document.getElementById('action-label').innerHTML = "Paper covers Rock. Player loses. :(";
				updateScore("computer");
			} else if (playerSelection === "paper" && computerSelection === "Scissors") {
				document.getElementById('action-label').innerHTML = "Scissors cuts Paper. Player loses. :(";
				updateScore("computer");
			} else if (playerSelection === "scissors" && computerSelection === "Rock") {
				document.getElementById('action-label').innerHTML = "Rock smashes Scissors. Player loses. :(";
				updateScore("computer");
			} else {
				document.getElementById('action-label').innerHTML = "It's a tie. Play again.";
			}
		}

		function updateScore(winner) {
			if(winner === "player") {
				playerScore++;
				if(playerScore == 5) {
					alert("Player won 5 games!");
					reset();
					return;
				}
				document.getElementById('player-score').innerHTML = `Player score: ${playerScore}`;
			} else {
				computerScore++;
				if(computerScore == 5) {
					alert("Computer won 5 games!");
					reset();
					return;
				}
				document.getElementById('computer-score').innerHTML = `Computer score: ${computerScore}`;
			}
		}

		function reset() {
			playerScore = 0;
			computerScore = 0;

			document.getElementById('player-score').innerHTML = `Player score: ${playerScore}`;
			document.getElementById('computer-score').innerHTML = `Computer score: ${computerScore}`;
			document.getElementById('action-label').innerHTML = "";
		}

		// function game(playerSelection) {
		// 	let computerSelection = computerPlay();
		// 	// let playerSelection = window.prompt("Rock, Paper, or Scissors?");

		// 	if (playerSelection != null) {
		// 		if (playerSelection.toLowerCase() === "rock") {
		// 			console.log(playGame("Rock", computerSelection));
		// 			return;
		// 		} else if (playerSelection.toLowerCase() === "paper") {
		// 			console.log(playGame("Paper", computerSelection));
		// 			return;
		// 		} else if (playerSelection.toLowerCase() === "scissors") {
		// 			console.log(playGame("Scissors", computerSelection));
		// 			return;
		// 		}
		// 	}
		// 	console.log("Invalid selection. Please enter 'Rock', 'Paper', or 'Scissors'")
		// }

		// for(let i = 0; i < 0; i++) {
		// 	game();
		// }

	</script>
</body>
</html>